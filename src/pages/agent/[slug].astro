---
// Importamos la función getAgentBySlug.
import { getAgentBySlug } from "../../lib/mongo.js";

// Obtenemos el slug del agente seleccionado.
const { slug } = Astro.params;

// Obtenemos el agente seleccionado.
const agent = await getAgentBySlug(slug);

// Si no se encuentra el agente, se lanza un error.
if (!agent) {
  throw new Error(`Agent with slug "${slug}" not found`);
}
---

<!--- Dependiendo del agente seleccionado, se muestra su información. -->
<main class="container mx-auto p-5">
  <div class="flex justify-end">
    <a href="/" class="text-xl font-bold">Volver</a>
  </div>
  <h1 class="text-3xl font-bold text-center py-6">{agent.agente}</h1>
  <div>
    <img src={agent.imagen} alt={agent.agente}/>
  </div>
</main>
  
